<?xml version="1.0" encoding="utf-8"?>



<mx:VBox
   xmlns:mx="http://www.adobe.com/2006/mxml"
   xmlns:controls="org.flexunit.flexui.controls.*"
   xmlns:left="org.flexunit.flexui.controls.left.*"
   width="100%" height="100%"
   minWidth="450"
   verticalScrollPolicy="off"
   horizontalScrollPolicy="off"
   verticalGap="2"
   >

   <mx:Script>
      <![CDATA[
         import org.flexunit.flexui.data.AbstractRowData;
         import org.flexunit.flexui.data.TestRunnerBasePresentationModel;

         private var _model : TestRunnerBasePresentationModel;

         public function set model( value : TestRunnerBasePresentationModel ) : void
         {
            _model = value;
            filterArea.model = _model;
            testCasesContainer.model = _model;
         }

         public function onAllTestsEnd() : void
         {
            testCasesContainer.onAllTestsEnd();
            filterArea.onAllTestsEnd();
         }

         public function launchTests() : void
         {
            testCasesContainer.launchTests();
         }

         //---------------------------------------------------------------------
         // Filter Methods
         //---------------------------------------------------------------------

         public function refreshTree() : void
         {
            testCasesContainer.refreshTree();
         }

         public function updateFilterSectionEnable() : void
         {
            filterArea.updateFilterSectionEnable();
         }

         public function updateScrollPosition() : void
         {
            testCasesContainer.updateScrollPosition();
         }

         private function handleFilterAreaResize() : void
         {
            testCasesContainer.width = filterArea.width;
         }

      ]]>
   </mx:Script>

   <controls:Title
      text="{ FlexUnitLabels.TEST_CASES }"
      />

   <mx:HRule
      styleName="flexUnitHRule"
      width="100%" 
      />

   <left:FilterArea
      id="filterArea"
      resize="handleFilterAreaResize()"
      filterChanged="refreshTree()"
      filterTextChanged="testCasesContainer.filterChangedEffect.play( [ testCasesContainer.caseName, testCasesContainer.expectedUI, testCasesContainer.actualUI ] )"
      filterResultChanged="testCasesContainer.filterChangedEffect.play( [ testCasesContainer.resultUI ] )"
      x="10" 
      y="10"
      />
      <!--filterAssertionChanged="testCasesContainer.filterChangedEffect.play( [ testCasesContainer.assertionUI ] )"
      	removed to avoid confusion until we can make this work across all tests-->

   <left:TestCasesTree
      id="testCasesContainer"
      label="Tree"
     />

</mx:VBox>
